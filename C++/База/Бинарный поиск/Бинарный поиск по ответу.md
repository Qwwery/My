[[Базовые алгоритмы||Базовый алгоритм]] в спорт-проге
Для алгоритма бинарного поиска по ответу мы требуем специальных условий:
1) [[Кусочные функции#^353d80||Булевская функция]] монотонна (только 1 переход из 1 в 0 и из 0 в 1)
2) Мы можем выделить границы left, right при которых значение функции будет разным f(left) != f(right)
![[Pasted image 20250410115716.png]]

Бинарный поиск по ответу применяется если:
1) Ответ на задачу можно найти математически (только если очень тяжело выводить)
2) Мы можем построить булевскую функцию
3) Ответ на задачу будет находиться в месте перехода
## Последовательность действий алгоритма 
1) Определяем булевскую функцию, набросок на листке 
2) Определяем границы области поиска, такие, чтобы 2 спец. условие выполняется 
3) Находим середину области поиска 
4) Определяем значение булевской функции от значения mid
5) В зависимости от результата сдвигаем, либо левую, либо правую границу области поиска в середину 
6) Продолжаем выполнять движение границ области поиска до тех пор пока границы не станут соседними left - right > 1
7) Делаем дополнительную проверку элементов после окончания цикла while. Ответ лежит в одной из границ.

## Задача 1
Лопата и мечи 
Есть палки, есть алмазы. Можно сделать алмазный меч или алмазную лопату (как в майнкрафте)
t - количество тестов 
a, b в каждом из тесте - палки и алмазы соответственно 
Сколько можно получить изумрудов, если и меч и лопату можно продать за 1 изумруд
Реализация:
```
int main() {
	int test;
	cin >> test;
	while (test--) {
		long long a, b;
		cin >> a >> b;
		long long left = 0, right = a + b;
		long long mid;
		while (right - left > 1) {
			mid = (right + left) / 2;
			if (a + b >= 3 * mid && a >= mid && b >= mid)
				left = mid;
			else
				right = mid;
		}
		cout << left << '\n';
	}
}
```