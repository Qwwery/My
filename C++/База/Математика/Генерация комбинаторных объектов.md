Раздел [[Комбинаторика||Комбинаторики]]

```cpp
void generate(
	vector<int>& Res,
	...
	int n,
	int pos)
{
	if (n == pos) {
		...
	}
	else {
		for (int i = 1; i <= n; i++) {
			generate(Res, n, pos + 1);
		}
	}
}
```
пример средней реализации для 
$$
{P_n^k}
$$
```cpp
void generation_bad(
	vector<int>& Res, int n, int pos)
{
	if (n == pos) {
		bool flag = true;
		for (int i = 0; i < n; i++) {
			for (int j = i + 1; j < n; j++) {
				if (Res[i] == Res[j]) {
					falg = false;
				}
			}	
		}
		if (flag) {
			for (int i = 0; i < n; i++) {
				cout << Res[i] << " ";
			}
			cout << '\n'
		}
	}
	else {
		for (int i = 1; i <= n; i++) {
			Res[pos] = i;
			generation_bad(Res, n, pos + 1);
		}
	}
}
```
Улучшим код, добавив правило
При генерации элемента в pos будем ставить только такие значения, которые не встречались до pos
реализация:
```cpp
void generation(
	vector<int>& Res, vector<int>& Mark, int n, int pos)
{
	if (n == pos) {
		for (int i = 0; i < n; i++) {
			cout << Res[i] << ' ';
		}
		cout << "\n";
	}
	else {
		for (int i = 1; i <= n; i++) {
			if (Mark[i] == 0) {
				Res[pos] = i;
				Mark[i] = 1;
				generation(Res, Mark, n, pos + 1);
				Mark[i] = 0
			}
		}
	}
}
```
# Сочетание
$$
C_n^k = \frac{A_n^k} {n!}
$$
Реализация (n!):
```cpp
void generation(
vector<int>& Res,
int n, int k, int pos)
{
	if (k < pos) {
		for (int i = 1; i <= k; i++)
			cout << Res[i] << " ";
		cout << '\n';
	}
	else {
		for (int i = Res[pos - i] + 1; i <= n; i++) {
			Res[pos] = i;
			generation(Res, n, k, pos + 1);
		}
	}
}
```
Улучшение 

```cpp
void generation(
vector<int>& Res,
int n, int k, int pos)
{
	if (k < pos) {
		for (int i = 1; i <= k; i++)
			cout << Res[i] << " ";
		cout << '\n';
	}
	else {
		for (int i = Res[pos - 1] + 1; i <= (n-(k-pos)); i++) {
			Res[pos] = i;
			generation(Res, n, k, pos + 1);
		}
	}
}
```
